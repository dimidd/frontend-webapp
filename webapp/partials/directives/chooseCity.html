<!--
  ~ Copyright (c) Popinz.co 2016.
  -->
<div>
    <div ng-hide="(checkedCities && checkedCities.length>0) || view || (edit && !edit.areas)">
        <label class="control control--checkbox">
            <input type="checkbox" data-toggle="modal" data-target="#citiesModal" ng-model='workOutsideTheCity'/>
            <div class="control__indicator"></div>
        </label>
        {{'OUTSIDE_JERUSALEM' | translate}}
    </div>
    <div ng-show="checkedCities.length>0"><span class="text-info">&#x2713 {{'OUTSIDE_JERUSALEM' | translate}}: </span><span ng-repeat="checkedCity in checkedCities">{{getName("City", checkedCity, lang)}}<span ng-hide="$last">, </span></span>
    </div>
    <button  type="button" class="btn btn-sm btn-secondary" data-toggle="modal" data-target="#citiesModal" ng-show="checkedCities.length>0 && ((!view && !edit)|| (edit && edit.areas))">{{'EDIT' | translate}}</button>
    <!-- Modal -->
    <div class="modal fade" id="citiesModal" tabindex="-1" role="dialog" aria-labelledby="citiesModalLabel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title text-center" id="citiesModalLabel">{{'HEADER_CITIES'|translate}}</h3>
                    <div class="cross" data-dismiss="modal">&#x2715</div>
                </div>
                <div class="modal-body wide-lines">
                    <span ng-repeat="city in cities" ng-hide="city.name === 'JERUSALEM'">
                        <label>
                            <label class="control control--checkbox">
                                <input type="checkbox" ng-model="city.checked" id="{{city.name}}"/>
                                <div class="control__indicator"></div>
                            </label>
                            {{getText(city)}}
                        </label>
                    </span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-md btn-main center-block" data-dismiss="modal" ng-click='getCheckedCities()'>{{'SAVE' | translate}}</button>
                </div>
            </div>
        </div>
    </div>
</div>